{% block content %}
{% load static %}
<div style="position: absolute;top: 13px;right: 25px;">
  <a href="javascript://" onclick="
    console.log($('#medida').height()+'px');
    if($('#carrinho').css('height')==='0px'){
      $('#carrinho').css({'visibility':'visible','opacity':'100','border':'1px solid #34675154','height':$('#medida').height()+'px','transition':'opacity 250ms, height 150ms ease-out'});
    }
    else {
      $('#carrinho').css({'opacity':'0','border':'1px solid #white','height':'0','transition':'opacity 250ms, height 150ms ease-in, border-color 250ms ease'});
      setTimeout(function(){
        $('#carrinho').css({'border':'0','visibility':'collapse'});
      }, 270);
    };
    $('#setacarrinho').toggleClass('d-none');
    if($('#botao-carrinho').css('background-color').toString()=='rgb(52, 103, 81)') {
      $('#botao-carrinho').css('background', '#ffffff').css('color', '#346751').css('transition','background-color 250ms ease-in');
    }
    else {
      $('#botao-carrinho').css('background', '#346751').css('color', '#ffffff');
    };">
    <span id="botao-carrinho" class="material-icons" style="font-size: 35px; color: white; background: #346751;padding:12px;border-radius: 50%;">shopping_cart</span>
  </a>
</div>
<div id="setacarrinho" class="d-none" style="position: absolute; top: 72px; right: 40px; width: 0; height: 0; border-left: 15px solid transparent;border-right: 15px solid transparent;border-bottom: 15px solid #34675154;"></div>
<div id="carrinho" style="visibility:collapse; opacity: 0; height: 0; transition: height 300ms ease-out; width: 350px; position: absolute; top: 87px; right: 25px; background-color: white; border: 0px solid #34675154;">
<div id='medida'>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</div>
</div>
<script>
    var tipoAtivo = '{{ tipo_ativo.id }}';
    var clienteSelecionado = '{{ cliente_selecionado }}';
    alert('protótipo: o cliente selecionado é ' + clienteSelecionado)
    $(document).ready(function() {
      $.ajax({
        url: "{% static 'html/cardapio_item.html' %}",
        method: 'GET'
      }).done(function(response) {
        ITEM_TEMPLATE = response;
        containerItens = $('#cardapio-items');
        CARREGANDO = containerItens.html();
        trocaTipo(tipoAtivo);
      });
    });
  
</script>
<script type="text/javascript" src="{% static 'js/specific/cardapio.js' %}"></script>
<div id="texto">
    <p style="margin-top: 20px; margin-bottom: 20px; line-height: 50px; vertical-align: middle;">Selecione os itens do pedido</p>
</div>

<div class="opcoes-cardapio">
    <ul class="tipos">
        {% for tipo in tipos%}
        <li class="tipositem">
            <a href="javascript://" onclick="trocaTipo('{{tipo.id}}');" id="seletor-tipo-{{tipo.id}}">
                {{ tipo.tipo }}
            </a>
        </li>
        {% endfor %}
    </ul>
</div>

<div class="container-pizzas">
    <section class="grid grid-3-columns" id="cardapio-items">Carregando...</section>
</div>

<div class="modal" tabindex="-1" id="modalSelecionarQuantidade"
data-bs-backdrop="static" data-bs-keyboard="false">
<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title">Quantidade</h5>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
      Selecione a quantidade para o produto
      <span id="nome-produto-quantidade"></span>:
      <br/>
      <label for="produto-inteira">Inteira</label>
      <input class="produto-quantidade" name="produto-quantidade"
        type="radio" id="produto-inteira" value="1.0" checked="checked"/>
      <label for="produto-meia">Meia</label>
      <input class="produto-quantidade" name="produto-quantidade"
        type="radio" id="produto-meia" value="0.5"/>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" data-bs-dismiss="modal"
        onclick="alteraNoCarrinho(itemSelecionado, $('input[name=\'produto-quantidade\']:checked').val())">
            Ok</button>
      <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
    </div>
  </div>
</div>
</div>

{% endblock%}